function e(e,t,n,s){Object.defineProperty(e,t,{get:n,set:s,enumerable:!0,configurable:!0})}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},s={},a=t.parcelRequirec80c;null==a&&((a=function(e){if(e in n)return n[e].exports;if(e in s){var t=s[e];delete s[e];var a={id:e,exports:{}};return n[e]=a,t.call(a.exports,a,a.exports),a.exports}var o=new Error("Cannot find module '"+e+"'");throw o.code="MODULE_NOT_FOUND",o}).register=function(e,t){s[e]=t},t.parcelRequirec80c=a),a.register("27Lyk",(function(t,n){var s,a;e(t.exports,"register",(()=>s),(e=>s=e)),e(t.exports,"resolve",(()=>a),(e=>a=e));var o={};s=function(e){for(var t=Object.keys(e),n=0;n<t.length;n++)o[t[n]]=e[t[n]]},a=function(e){var t=o[e];if(null==t)throw new Error("Could not resolve bundle with id "+e);return t}})),a.register("i1qLi",(function(e,t){e.exports=new URL(a("27Lyk").resolve("BohIV"),import.meta.url).toString()})),a.register("91x14",(function(e,t){e.exports=new URL(a("27Lyk").resolve("2FUzK"),import.meta.url).toString()})),a.register("01bol",(function(e,t){e.exports=new URL(a("27Lyk").resolve("4n4pf"),import.meta.url).toString()})),a("27Lyk").register(JSON.parse('{"dZpbI":"index.8dd083e3.js","opOXD":"fondo.6d37039e.png","BohIV":"piedra.d39606ad.png","2FUzK":"papel.4c43efcf.png","4n4pf":"tijera.52729ad5.png"}'));const o={data:{currentGame:{myPlay:"rock",computerPlay:"paper"},history:[{lastResult:""}]},init(){const e=JSON.stringify({user:0,pc:0});localStorage.setItem("userHistorial",e)},getState(){return this.data},setState(e){this.data=e},lastSelectUser(){return this.getState().currentGame.myPlay},lastSelectComputer(){return this.getState().currentGame.computerPlay},setSelectUser(e){const t=this.getState();t.currentGame.myPlay=e,this.setState(t)},setSelectComputer(e){const t=this.getState();t.currentGame.computerPlay=e,this.setState(t)},getLastResultOfUser(){return this.getState().history.lastResult.toUpperCase()},setLastMatchResult(e){const t=this.getState();t.history.lastResult=e,this.refreshHistorial(e),this.setState(t)},refreshHistorial(e){const t=JSON.parse(localStorage.getItem("userHistorial"));if("GANASTE"==e){t.user+=1;const e=JSON.stringify(t);localStorage.setItem("userHistorial",e)}else if("PERDISTE"==e){t.pc+=1;const e=JSON.stringify(t);localStorage.setItem("userHistorial",e)}},whoWins(e,t){const n=e==t;["scissors"==e&&"paper"==t,"paper"==e&&"rock"==t,"rock"==e&&"scissors"==t].filter((e=>1==e)).length?this.setLastMatchResult("GANASTE"):n?this.setLastMatchResult("EMPATASTE"):this.setLastMatchResult("PERDISTE")},getHistory(){return this.getState().history}};var r;r=new URL(a("27Lyk").resolve("opOXD"),import.meta.url).toString();const l=[{path:/\/welcome/,component:function(e){o.init();const t=document.createElement("div");t.classList.add("contenedor"),t.innerHTML='\n      <title-el class="titulo" label="Piedra Papel ó Tijera"></title-el>\n      <button-el class="button" label="Empezar"></button-el>\n      <div class="contenedor-manos">\n          <hand-el class="hand" hand="scissors"></hand-el>\n          <hand-el class="hand" hand="rock"></hand-el>\n          <hand-el class="hand" hand="paper"></hand-el>\n      </div>\n    ';var n=t.querySelector(".button");return n?.addEventListener("click",(()=>{e.goTo("/instructions")})),t}},{path:/\/instructions/,component:function(e){const t=document.createElement("div");t.classList.add("contenedor"),t.innerHTML='\n      <subtitle-el\n      class="subtitulo"\n      label="Presioná jugar\n            y elegí: piedra, papel o tijera antes de que pasen los 3 segundos."></subtitle-el>\n      <button-el class="button" label="¡Jugar!"></button-el>\n      <div class="contenedor-manos">\n        <hand-el class="hand" hand="scissors"></hand-el>\n        <hand-el class="hand" hand="rock"></hand-el>\n        <hand-el class="hand" hand="paper"></hand-el>\n      </div>\n  ';var n=t.querySelector(".button");return n?.addEventListener("click",(()=>{e.goTo("/game")})),t}},{path:/\/game/,component:function(e){var t=3;const n=setInterval((()=>{document.querySelector(".intervaloContador").innerHTML=`${t}`,t<1&&(clearInterval(n),function(){const e=["scissors","rock","paper"],t=Math.floor(Math.random()*e.length);o.setSelectComputer(e[t])}(),o.whoWins(o.lastSelectUser(),o.lastSelectComputer()),e.goTo("/result")),t--}),1e3),s=document.createElement("div");s.classList.add("contenedor"),s.innerHTML='\n    <div class="intervaloContador"></div>\n    <div class="contenedor-manos">\n        <hand-el class="hand" contexto="ingame" hand="scissors"></hand-el>\n        <hand-el class="hand" contexto="ingame" hand="rock"></hand-el>\n        <hand-el class="hand" contexto="ingame" hand="paper"></hand-el>\n    </div>\n    ';const a=s.querySelectorAll("hand-el");return a.forEach((e=>{e.addEventListener("click",(()=>{o.setSelectUser(e.getAttribute("hand")||o.lastSelectUser()),a.forEach((t=>{e==t?(t.classList.remove("inactive"),t.classList.add("active")):(t.classList.remove("active"),t.classList.add("inactive"))}))}))})),s}},{path:/\/result/,component:function(e){var t=2;const n=setInterval((()=>{var a=s.querySelector(".base");if(a.style.transform="translateY(-50px)",a.style.transform="rotate(360deg);",a.style.transition="all 1s ease-in-out",t<1){clearInterval(n);const a=s.querySelector(".button");a?.addEventListener("click",(()=>{e.goTo("/instructions")})),!function(e){"PERDISTE"==o.getLastResultOfUser()?e.style.background="rgba(137, 73, 73, 0.9)":"EMPATASTE"==o.getLastResultOfUser()?e.style.background="rgba(187, 187, 62,0.9)":e.style.background="rgba(128, 231, 48, 0.9)";e.style.display="flex"}(s.querySelector(".contenedor-resultado")),t--}t--}),1e3),s=document.createElement("div");s.classList.add("contenedor");const a=JSON.parse(localStorage.getItem("userHistorial"));return s.innerHTML=`\n      <div class="contenedor-manos inverted">\n          <hand-el class="hand" contexto="ingame" hand="${o.lastSelectComputer()}"></hand-el>\n      </div>\n      <div class="contenedor-manos base">\n          <hand-el class="hand" contexto="ingame" hand="${o.lastSelectUser()}"></hand-el>\n      </div>\n      \n      <div class="contenedor-resultado">\n        <div class="resultado-posta">\n          <h1>${o.getLastResultOfUser()}</h1>\n        </div>\n        <div class="resultado-score">\n          <h2 class="resultado-score-text">Score</h2>\n          <p>Vos: ${a.user}</p>\n          <p>Máquina: ${a.pc}</p>\n        </div>\n        <div class="button-volver-a-jugar">\n          <button-el class="button" label="Volver a jugar"></button-el>\n        </div>\n      </div>\n    `,s}}];function i(){class e extends HTMLElement{constructor(){super(),this.refactor()}refactor(){const e=this.getAttribute("label");var t=document.createElement("style");t.textContent="\n            :host{\n                display:block;\n            }\n            .boton{\n                border: solid 10px #001997;\n                border-radius: 10px;\n                background-color:#006CFC;\n                padding: 9px 0;\n                text-align:center;\n                color:white;\n                font-size:45px;\n            }\n            ";var n=this.attachShadow({mode:"open"});n.appendChild(t);var s=document.createElement("div");s.classList.add("boton"),s.textContent=e,n.appendChild(s)}}customElements.define("button-el",e)}function c(){class e extends HTMLElement{constructor(){super(),this.refactor()}refactor(){var e=this.getAttribute("label"),t=document.createElement("style");t.textContent="\n            :host{\n                display:block;\n            }\n            .title{\n                font-size: 80px;\n                font-weight: 700;\n                color: #009048;\n                max-width:284px;\n                text-align:center;\n            }\n            ";var n=this.attachShadow({mode:"open"});n.appendChild(t);var s=document.createElement("div");s.classList.add("title"),s.textContent=e,n.appendChild(s)}}customElements.define("title-el",e)}function d(){class e extends HTMLElement{constructor(){super(),this.refactor()}refactor(){var e=this.getAttribute("label"),t=document.createElement("style");t.textContent="\n            :host{\n                display:block;\n                width:100%;\n                margin:0;\n            }\n            .sub-title{\n                margin:0 auto;\n                font-size: 40px;\n                font-weight: 500;\n                text-align:center;\n            }\n            ";var n=this.attachShadow({mode:"open"});n.appendChild(t);var s=document.createElement("div");s.classList.add("sub-title"),s.textContent=e,n.appendChild(s)}}customElements.define("subtitle-el",e)}const u={rock:a("i1qLi"),paper:a("91x14"),scissors:a("01bol")};function h(){class e extends HTMLElement{constructor(){super(),this.render()}connectedCallBack(){console.log("cb"),this.render()}render(){var e=this.getAttribute("hand")||"rock",t=this.getAttribute("contexto")||"menu",n=document.createElement("style"),s=document.createElement("div");n.textContent="\n                :host{\n                display:block;\n                }\n                .menu{\n                    width:57px;\n                    height:127px;\n                }\n                .ingame{\n                    width:70px;\n                    height:190px;\n                }\n            ";var a=this.attachShadow({mode:"open"}),o=document.createElement("img");a.appendChild(n),o.setAttribute("src",u[e]),o.classList.add("onClick"),o.classList.add(t),s.appendChild(o),a.appendChild(s)}}customElements.define("hand-el",e)}function p(){i(),c(),d(),h()}document.querySelector(".root").style.backgroundImage=`url(${r})`,p(),function(e){function t(e){history.pushState({},"",e),n(e)}function n(n){for(const s of l)if(s.path.test(n)){const n=s.component({goTo:t});e.firstChild&&e.firstChild?.remove(),e.appendChild(n)}}"/apx-desafio-m5"==location.pathname?t("/welcome"):n(location.pathname),window.onpopstate=()=>{n(location.pathname)}}(document.querySelector(".root"));
//# sourceMappingURL=index.8dd083e3.js.map
